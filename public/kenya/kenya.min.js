var __extends=this.__extends||function(n,t){function i(){this.constructor=n}i.prototype=t.prototype,n.prototype=new i},Dashboard;(function(n){(function(t){var i=function(n){function t(t,i){n.call(this,t,i,"body",null,null,300)}return __extends(t,n),t.prototype.draw=function(n){var i=this.xScale,r=this.yScale,e=this.height,f,t;r.domain([0,.5]);var u=d3.scale.linear().range([e,0]).domain([d3.min(n,function(n){return n.Visits}),d3.max(n,function(n){return n.Visits})]),o=_.groupBy(n,function(n){return n.Ref}),s=this;_(o).each(function(n){console.log(n);var f=d3.svg.line().interpolate("basis").x(function(n){return i(n.day)}).y(function(n){return r(n.Subs/n.Visits)}),e=d3.svg.line().interpolate("basis").x(function(n){return i(n.day)}).y(function(n){return u(n.Visits)}),t=s.g.datum(n);t.append("path").attr("class","conv line").attr("d",f),t.append("path").attr("class","visits line").attr("d",e)}),this.drawXAxis().drawYAxis("Conversion"),f=d3.svg.axis().scale(u).orient("right"),t=this.drawCustomYAxis(this.g,f,!1),t.group.attr("transform","translate("+this.width+",0)").select(".domain").attr("style","stroke:none"),t.label.text("Visits").attr("transform","translate(-4,42) rotate(-90)")},t}(n.Growth.Graph);t.KenyaGraph=i})(n.Growth||(n.Growth={}));var t=n.Growth})(Dashboard||(Dashboard={}))